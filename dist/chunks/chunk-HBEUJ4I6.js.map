{
  "version": 3,
  "sources": ["../../src/components/RicherTextEditor.js"],
  "sourcesContent": ["import { html } from \"lit\";\nimport { classMap } from 'lit/directives/class-map.js';\nimport { map } from 'lit/directives/map.js';\n\nimport { RoleTooltip } from \"role-components\";\nRoleTooltip.define();\n\n// import { Dropdown } from \"../editor/elements/Dropdown\";\nimport { uploadFile } from \"../editor/extensions/Image\";\n\nimport { TipTapEditorBase } from \"./TipTapEditorBase\";\n\nimport icons from '../editor/icons';\nimport { translations } from \"../editor/translations\";\n\n// Styles\nimport { richerTextEditorStyles } from \"../styles/richerTextEditorStyles\";\n\n// Extensions\nimport { RicherTextKit } from \"../editor/extensions/RicherTextKit\";\n\nimport CustomSuggestion from \"../editor/extensions/CustomSuggestion\";\nimport CustomSuggestionSuggestion from \"../editor/suggestions/CustomSuggestionSuggestion\";\n\nimport Mention from \"../editor/extensions/Mention\";\nimport MentionSuggestion from \"../editor/suggestions/MentionSuggestion\";\nimport RicherTextEmbed from \"../editor/extensions/RicherTextEmbed\";\n\nimport \"../editor/elements/RicherBubbleMenu\";\nimport CustomBubbleMenu from \"../editor/extensions/CustomBubbleMenu\";\n\nexport default class RicherTextEditor extends TipTapEditorBase {\n  static get styles() {\n    return TipTapEditorBase.styles.concat([richerTextEditorStyles]);\n  }\n\n  static get properties() {\n    return Object.assign(TipTapEditorBase.properties, {\n      translations: {\n        type: Object,\n        converter: {\n          fromAttribute: (value) => JSON.parse(value),\n          toAttribute: (value) => JSON.stringify(value),\n        }\n      },\n      callouts: { type: String, reflect: true },\n      tables: { type: String, reflect: true},\n      mentionableUsersPath: { attribute: \"mentionable-users-path\", type: String, reflect: true },\n      toolbarPlacement: { attribute: \"toolbar-placement\", type: String, reflect: true },\n      toolbarPreset: { attribute: \"toolbar-preset\", type: String, reflect: true },\n      customSuggestions: { attribute: \"custom-suggestions\", type: Array },\n      embedsPath: { attribute: \"embeds-path\", type: String, reflect: true },\n      toolbar: {\n        type: Array,\n        reflect: true,\n        converter: {\n          fromAttribute: (value) => {\n            return value.split(',').map((s) => s.trim());\n          },\n          toAttribute: (value) => {\n            return value.join(',');\n          },\n        }\n      },\n    });\n  }\n\n  constructor() {\n    super();\n\n    this.translations = translations;\n    this.toolbar = [];\n    this.tables = \"false\";\n    this.callouts = \"false\";\n    this.toolbarPlacement = this.getAttribute(\"toolbar-placement\") || \"top\";\n    this.toolbarPreset = this.getAttribute(\"toolbar-preset\") || \"default\";\n    this.mentionableUsersPath = this.getAttribute(\"mentionable-users-path\") || \"\";\n\n    this.customSuggestions = JSON.parse(this.getAttribute(\"custom-suggestions\")) || [];\n    this.embedsPath = this.getAttribute(\"embeds-path\") || \"\";\n    this.oembed = this.getAttribute(\"oembed\") || false;\n  }\n\n  configureToolbar() {\n    if (this.toolbar.length > 0) {\n      return;\n    }\n\n    if (this.toolbarPreset === 'minimal') {\n      this.toolbar = ['bold', 'italic', 'strike'];\n    } else {\n      this.toolbar = [\n        'bold',\n        'italic',\n        'strike',\n        'code',\n        'divider',\n        'heading-1',\n        'heading-2',\n        'heading-3',\n        // 'highlight',\n        'bulletlist',\n        'orderedlist',\n        'blockquote',\n        'code-block',\n        'horizontal-rule',\n        'divider',\n        'attachment',\n        'spacer',\n        'undo',\n        'redo',\n      ];\n    }\n  }\n\n  updated(changedProperties) {\n    if (\n      changedProperties.has('toolbar') ||\n      changedProperties.has('toolbarPreset')\n    ) {\n      this.configureToolbar();\n    }\n\n    super.updated(changedProperties);\n  }\n\n  get __baseExtensions() {\n    let extensions = [\n      CustomBubbleMenu(\"customBubbleMenu\").configure({\n        shouldShow: ({ editor }) => {\n          return !editor.view.state.selection.empty && (editor.isActive(\"paragraph\") || editor.isActive(\"heading\") || editor.isActive(\"blockquote\"));\n        },\n        oembed: this.oembed,\n        embedPath: this.embedsPath,\n      }),\n      CustomBubbleMenu(\"imageBubbleMenu\").configure({\n        mode: \"image\",\n        pluginKey: \"imageBubbleMenu\",\n        shouldShow: ({ editor }) => {\n          return editor.isActive(\"image\");\n        },\n      }),\n      RicherTextEmbed.configure({\n        embedPath: this.embedsPath,\n      }),\n      RicherTextKit.configure({\n        placeholder: this.placeholder || \"Start typing...\",\n        callout: this.callouts !== \"false\",\n        tables: this.tables !== \"false\"\n      })\n    ];\n\n     if (this.tables !== \"false\") {\n      extensions.push(\n        CustomBubbleMenu(\"tableBubbleMenu\").configure({\n          mode: \"table\",\n          pluginKey: \"tableBubbleMenu\",\n          shouldShow: ({ editor }) => {\n            return editor.isActive(\"table\");\n          },\n        })\n      );\n    }\n\n    if (this.mentionableUsersPath.length > 0) {\n      extensions.push(\n        Mention.configure({\n          HTMLAttributes: { class: \"richer-text--mention\" },\n          suggestion: MentionSuggestion(this.mentionableUsersPath),\n        })\n      );\n    }\n\n    this.customSuggestions.forEach((customSuggestion) => {\n      extensions.push(\n        CustomSuggestion(`${customSuggestion.name}Plugin`).configure({\n          suggestion: CustomSuggestionSuggestion(customSuggestion.path, customSuggestion.trigger, `${customSuggestion.name}PluginKey`),\n        })\n      )\n    });\n\n    return extensions;\n  }\n\n  firstUpdated() {\n    this.rebuildEditor();\n    this.configureToolbar();\n\n    this.requestUpdate();\n  }\n\n  addFile() {\n    const input = this.shadowRoot.getElementById(\"file-input\");\n    input.click();\n  }\n\n  handleFileUpload(event) {\n    const files = event.target.files;\n\n    // Update this to loop through all files with the index\n    Array.from(files).forEach((file, index) => {\n      // A fresh object to act as the ID for this upload\n      let id = {};\n\n      // Replace the selection with a placeholder\n      let tr = this.editor.view.state.tr;\n      if (!tr.selection.empty) tr.deleteSelection();\n\n      tr.setMeta(this.editor.view, {add: {id, pos: tr.selection.from + index}, image: file});\n      this.editor.view.dispatch(tr)\n\n      const onUploadComplete = (attrs, completedUpload) => {\n        const payload = {\n          signedId: attrs.signedId,\n          name: completedUpload.file.name,\n          src: `/rails/active_storage/blobs/redirect/${attrs.signedId}/${completedUpload.file.name}`,\n          alt: completedUpload.file.name,\n        };\n\n        this.editor.view.dispatch(\n          this.editor.view.state.tr.replaceWith(this.editor.view.state.doc.content.size, this.editor.view.state.doc.content.size, this.editor.schema.nodes.image.create(payload))\n            .setMeta(this.editor.view, {remove: {id}})\n        )\n      }\n\n      uploadFile(file, onUploadComplete);\n    });\n\n    this.shadowRoot.getElementById(\"file-input\").value = \"\";\n  }\n\n  renderToolbarButton(name) {\n    if (!this.editor || !this.toolbar?.length) return '';\n\n    const allToolbarItems = new Map(\n      Object.entries({\n        divider: html`<div class=\"divider\" part=\"divider\"></div>`,\n\n        spacer: html`<div class=\"spacer\" part=\"spacer\"></div>`,\n\n        'heading-1': html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button ${classMap({\n            'is-active': this.editor.isActive('heading', { level: 1 }),\n          })}\"\n          tabindex=\"-1\"\n          @click=\"${this.toggleHeadingLevel1}\"\n          aria-describedby=\"h1-tooltip\"\n        >\n          ${icons.get('h1')}\n          <role-tooltip id=\"h1-tooltip\" hoist>${this.translations.heading1}</role-tooltip>\n        </button>`,\n\n        'heading-2': html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button ${classMap({\n            'is-active': this.editor.isActive('heading', { level: 2 }),\n          })}\"\n          tabindex=\"-1\"\n          @click=\"${this.toggleHeadingLevel2}\"\n          aria-describedby=\"h2-tooltip\"\n        >\n          ${icons.get('h2')}\n          <role-tooltip id=\"h2-tooltip\" hoist>${this.translations.heading2}</role-tooltip>\n        </button>`,\n\n        'heading-3': html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button ${classMap({\n            'is-active': this.editor.isActive('heading', { level: 3 }),\n          })}\"\n          tabindex=\"-1\"\n          @click=\"${this.toggleHeadingLevel3}\"\n          aria-describedby=\"h3-tooltip\"\n        >\n          ${icons.get('h3')}\n          <role-tooltip id=\"h3-tooltip\" hoist>${this.translations.heading3}</role-tooltip>\n        </button>`,\n\n        highlight: html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button ${classMap({\n            'is-active': this.editor.isActive('highlight'),\n          })}\"\n          tabindex=\"-1\"\n          @click=\"${this.toggleHighlight}\"\n          aria-describedby=\"highlight-tooltip\"\n        >\n          ${icons.get('highlight')}\n          <role-tooltip id=\"highlight-tooltip\" hoist>${this.translations.highlight}</role-tooltip>\n        </button>`,\n\n        'horizontal-rule': html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button ${classMap({\n            'is-active': this.editor.isActive('horizontal-rule'),\n          })}\"\n          tabindex=\"-1\"\n          @click=\"${this.setHorizontalRule}\"\n          aria-describedby=\"hr-tooltip\"\n        >\n          ${icons.get('horizontal-rule')}\n          <role-tooltip id=\"hr-tooltip\" hoist>${this.translations.horizontalRule}</role-tooltip>\n        </button>`,\n\n        bold: html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button ${classMap({\n            'is-active': this.editor.isActive('bold'),\n          })}\"\n          @click=\"${this.toggleBold}\"\n          aria-describedby=\"bold-tooltip\"\n        >\n          ${icons.get('bold')}\n          <role-tooltip id=\"bold-tooltip\" hoist>${this.translations.bold}</role-tooltip>\n        </button>`,\n\n        italic: html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button ${classMap({\n            'is-active': this.editor.isActive('italic'),\n          })}\"\n          tabindex=\"-1\"\n          @click=\"${this.toggleItalic}\"\n          aria-describedby=\"italic-tooltip\"\n        >\n          ${icons.get('italic')}\n          <role-tooltip id=\"italic-tooltip\" hoist>${this.translations.italics}</role-tooltip>\n        </button>`,\n\n        underline: html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button ${classMap({\n            'is-active': this.editor.isActive('underline'),\n          })}\"\n          tabindex=\"-1\"\n          @click=\"${this.toggleUnderline}\"\n          aria-describedby=\"underline-tooltip\"\n        >\n          ${icons.get('underline')}\n          <role-tooltip id=\"underline-tooltip\" hoist>${this.translations.underline}</role-tooltip>\n        </button>`,\n\n        strike: html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button ${classMap({\n            'is-active': this.editor.isActive('strike'),\n          })}\"\n          tabindex=\"-1\"\n          @click=\"${this.toggleStrike}\"\n          aria-describedby=\"strike-tooltip\"\n        >\n          ${icons.get('strike')}\n          <role-tooltip id=\"strike-tooltip\" hoist>${this.translations.strike}</role-tooltip>\n        </button>`,\n\n        'code': html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button ${classMap({\n            'is-active': this.editor.isActive('code'),\n          })}\"\n          tabindex=\"-1\"\n          @click=\"${this.toggleCode}\"\n          aria-describedby=\"code-tooltip\"\n        >\n          ${icons.get('code')}\n          <role-tooltip id=\"code-tooltip\" hoist>${this.translations.code}</role-tooltip>\n        </button>`,\n\n        bulletlist: html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button ${classMap({\n            'is-active': this.editor.isActive('bulletList'),\n          })}\"\n          tabindex=\"-1\"\n          @click=\"${this.toggleBulletList}\"\n          aria-describedby=\"bullet-tooltip\"\n        >\n          ${icons.get('bullet-list')}\n          <role-tooltip id=\"bullet-tooltip\" hoist>${this.translations.bulletList}</role-tooltip>\n        </button>`,\n\n        orderedlist: html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button ${classMap({\n            'is-active': this.editor.isActive('orderedlist'),\n          })}\"\n          tabindex=\"-1\"\n          @click=\"${this.toggleOrderedList}\"\n          aria-describedby=\"ordered-tooltip\"\n        >\n          ${icons.get('ordered-list')}\n          <role-tooltip id=\"ordered-tooltip\" hoist>${this.translations.orderedList}</role-tooltip>\n        </button>`,\n\n        blockquote: html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button ${classMap({\n            'is-active': this.editor.isActive('blockquote'),\n          })}\"\n          tabindex=\"-1\"\n          @click=\"${this.toggleBlockquote}\"\n          aria-describedby=\"blockquote-tooltip\"\n        >\n          ${icons.get('blockquote')}\n          <role-tooltip id=\"blockquote-tooltip\" hoist>${this.translations.blockquote}</role-tooltip>\n        </button>`,\n\n        'code-block': html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button ${classMap({\n            'is-active': this.editor.isActive('codeBlock'),\n          })}\"\n          tabindex=\"-1\"\n          @click=\"${this.toggleCodeBlock}\"\n          aria-describedby=\"codeblock-tooltip\"\n        >\n          ${icons.get('code-block')}\n          <role-tooltip id=\"codeblock-tooltip\" hoist>${this.translations.codeBlock}</role-tooltip>\n        </button>`,\n\n        undo: html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button\"\n          tabindex=\"-1\"\n          @click=\"${this.undo}\"\n          aria-describedby=\"undo-tooltip\"\n        >\n          ${icons.get('undo')}\n          <role-tooltip id=\"undo-tooltip\" hoist>${this.translations.undo}</role-tooltip>\n        </button>`,\n\n        redo: html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button\"\n          tabindex=\"-1\"\n          @click=\"${this.redo}\"\n          aria-describedby=\"redo-tooltip\"\n        >\n          ${icons.get('redo')}\n          <role-tooltip id=\"redo-tooltip\" hoist>${this.translations.redo}</role-tooltip>\n        </button>`,\n\n        attachment: html`<button\n          type=\"button\"\n          part=\"toolbar-button\"\n          class=\"toolbar-button\"\n          tabindex=\"-1\"\n          @click=\"${this.addFile}\"\n          aria-describedby=\"attachment-tooltip\"\n        >\n          ${icons.get('attachment')}\n          <role-tooltip id=\"attachment-tooltip\" hoist>${this.translations.attachment}</role-tooltip>\n\n          <input\n            id=\"file-input\"\n            type=\"file\"\n            hidden\n            multiple\n            accept=${\"image/*\"}\n            @change=${this.handleFileUpload}\n          />\n        </button>`,\n      }),\n    );\n\n    return allToolbarItems.get(name);\n  }\n\n  render() {\n    return html`\n        <div class=\"wrapper\" part=\"wrapper\">\n          <div class=\"toolbar\" part=\"toolbar\">\n            <slot name=\"toolbar-start\"></slot>\n            ${map(this.toolbar, (name) => this.renderToolbarButton(name))}\n            <slot name=\"toolbar-end\"></slot>\n            <slot></slot>\n          </div>\n          <slot name=\"editor\"></slot>\n        </div>\n      </div>\n    `;\n  }\n}\n\ncustomElements.define(\"richer-text-editor\", RicherTextEditor);\n"],
  "mappings": "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",
  "names": []
}
