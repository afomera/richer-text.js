{
  "version": 3,
  "sources": ["../../src/editor/extensions/CustomBubbleMenu.js"],
  "sourcesContent": ["import { Extension } from \"@tiptap/core\";\nimport { Plugin, PluginKey } from \"@tiptap/pm/state\";\n\nimport { BubbleMenuPlugin } from \"@tiptap/extension-bubble-menu\";\n\nconst CustomBubbleMenu = (pluginName) => Extension.create({\n  name: pluginName || \"customBubbleMenu\",\n\n  addOptions() {\n    return {\n      pluginKey: \"customBubbleMenu\",\n      shouldShow: null,\n      mode: \"text\",\n      oembed: false,\n      embedPath: \"\",\n    }\n  },\n\n  addProseMirrorPlugins() {\n    const element = document.createElement(\"richer-bubble-menu\");\n    element.editor = this.editor;\n    element.mode = this.options.mode;\n    element.embedPath = this.options.embedPath;\n    element.oembed = this.options.oembed;\n\n    const tippyOptions = element.tippyOptions || {\n      interactive: true,\n      placement: \"top\",\n      theme: \"bubble\",\n      allowHTML: true,\n      maxWidth: \"none\",\n      appendTo: () => document.body,\n      trigger: \"manual\"\n    };\n\n    return [\n      BubbleMenuPlugin({\n        editor: this.editor,\n        key: new PluginKey(this.options.pluginKey || \"bubbleMenu\"),\n        element: element,\n        shouldShow: this.options.shouldShow,\n        tippyOptions: Object.assign(tippyOptions, {\n          duration: 0,\n          delay: 0,\n          onShow: () => {\n            element.isActive = this.editor.isActive.bind(this.editor);\n          },\n          onHide: () => {\n            element.editingLink = false;\n          },\n        }),\n      }),\n    ];\n  },\n});\n\nexport default CustomBubbleMenu;\n"],
  "mappings": ";AAAA,SAAS,iBAAiB;AAC1B,SAAS,QAAQ,iBAAiB;AAElC,SAAS,wBAAwB;AAEjC,IAAM,mBAAmB,CAAC,eAAe,UAAU,OAAO;AAAA,EACxD,MAAM,cAAc;AAAA,EAEpB,aAAa;AACX,WAAO;AAAA,MACL,WAAW;AAAA,MACX,YAAY;AAAA,MACZ,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,wBAAwB;AACtB,UAAM,UAAU,SAAS,cAAc,oBAAoB;AAC3D,YAAQ,SAAS,KAAK;AACtB,YAAQ,OAAO,KAAK,QAAQ;AAC5B,YAAQ,YAAY,KAAK,QAAQ;AACjC,YAAQ,SAAS,KAAK,QAAQ;AAE9B,UAAM,eAAe,QAAQ,gBAAgB;AAAA,MAC3C,aAAa;AAAA,MACb,WAAW;AAAA,MACX,OAAO;AAAA,MACP,WAAW;AAAA,MACX,UAAU;AAAA,MACV,UAAU,MAAM,SAAS;AAAA,MACzB,SAAS;AAAA,IACX;AAEA,WAAO;AAAA,MACL,iBAAiB;AAAA,QACf,QAAQ,KAAK;AAAA,QACb,KAAK,IAAI,UAAU,KAAK,QAAQ,aAAa,YAAY;AAAA,QACzD;AAAA,QACA,YAAY,KAAK,QAAQ;AAAA,QACzB,cAAc,OAAO,OAAO,cAAc;AAAA,UACxC,UAAU;AAAA,UACV,OAAO;AAAA,UACP,QAAQ,MAAM;AACZ,oBAAQ,WAAW,KAAK,OAAO,SAAS,KAAK,KAAK,MAAM;AAAA,UAC1D;AAAA,UACA,QAAQ,MAAM;AACZ,oBAAQ,cAAc;AAAA,UACxB;AAAA,QACF,CAAC;AAAA,MACH,CAAC;AAAA,IACH;AAAA,EACF;AACF,CAAC;AAED,IAAO,2BAAQ;",
  "names": []
}
